{
  "$schema": "https://json-schema.org/draft-07/schema#",
  "allOf": [
    {
      "if": { "properties": { "type": { "const": "REPLICATION" } } },
      "then": { "$ref": "https://raw.githubusercontent.com/eyalros1q/yamlschematest/main/replicate-task-schema.json" }
    },
    {
      "if": { "properties": { "type": { "const": "LAKE_LANDING" } } },
      "then": { "$ref": "https://raw.githubusercontent.com/eyalros1q/yamlschematest/main/lakelanding-task-schema.json" } 
    },
    {
      "properties": {
        "name": {
            "type": "string",
            "description": "Task name",
            "examples": ["Lake_landing_CDC", "Replication2"]
        },
        "id": {
            "type": "string",
            "description": "Unique task identifier, to be used in other tasks",
            "examples": ["lake_landing_cdc-5ek3"]
        },
        "description": {
            "type": "string",
            "description": "Task description",
            "examples": ["replicate1"]
        },
        "type": {
            "type": "string",
            "description": "Task type",
            "enum": ["LAKE_LANDING","REPLICATION"]
        }
      },
      "required": ["type"] 
    }
  ]
}


