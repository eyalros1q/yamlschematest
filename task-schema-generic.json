{
  "$schema": "https://json-schema.org/draft-07/schema#",
  "allOf": [
    {
      "if": { "properties": { "type": { "const": "REPLICATION" } } },
      "then": { "$ref": "https://raw.githubusercontent.com/eyalros1q/yamlschematest/main/replicate-task-schema.json" }
    },
    {
      "if": { "properties": { "type": { "const": "LAKE_LANDING" } } },
      "then": { "$ref": "https://raw.githubusercontent.com/eyalros1q/yamlschematest/main/lakelanding-task-schema.json" } 
    },
    {
      "properties": {
        "type": {
          "type": "string",
          "enum": ["REPLICATION", "LAKE_LANDING"] ,
          "description": "A custom flag property"
        }
      }
    }
  ]
}
